(this["webpackJsonppodcast-app"]=this["webpackJsonppodcast-app"]||[]).push([[0],{256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),r=a.n(i),c=a(13),o=a.n(c),s=a(57),l=Object(s.a)({typography:{fontFamily:"Lato",subtitle1:{fontSize:".8rem",fontWeight:800},subtitle2:{fontSize:".8rem"},h4:{fontWeight:800},h6:{fontWeight:800,fontSize:"1.1rem"}}}),d=a(27),u=a(17),m=a(112),j=Object(m.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column"},title:{marginLeft:"2rem",marginTop:"5rem"}}})),p=(a(103),a(45)),h=a.n(p);var b=a(59),g=a(15),O=(a(196),a(53)),f=function(e,t){switch(t.type){case"SEND":return{loading:!0,error:null,data:null};case"RESPONSE":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,data:t.responseData,description:t.description});case"ERROR":return{loading:!1,error:t.errorMessage};case"CLEAR":return Object(O.a)(Object(O.a)({},e),{},{error:null});default:throw new Error("Could not be reached!")}},x=function(){var e=r.a.useReducer(f,{loading:!1,error:null,data:null,description:null}),t=Object(g.a)(e,2),a=t[0],n=t[1],i="https://ancient-river-53390.herokuapp.com/",c=r.a.useCallback((function(e){n({type:"SEND"}),console.log("CORSS"),h.a.get(i+e).then((function(e){n({type:"RESPONSE",responseData:e.data})})).catch((function(e){n({type:"ERROR",errorMessage:"Something went wrong!"})}))}),[]),o=r.a.useCallback((function(e){n({type:"SEND"}),h.a.get(i+e).then((function(e){h.a.get("https://listen-api.listennotes.com/api/v2/search?q=".concat(e.data.results[0].collectionName,"&sort_by_date=0&type=podcast&offset=0&len_min=10&len_max=30&published_after=0&only_in=title&language=English&safe_mode=0"),{headers:{"X-ListenAPI-Key":"8cdcd14f4279491aba4bf627524febe2"}}).then((function(t){e.data.results.map((function(e){var t=Math.floor(e.trackTimeMillis/6e4),a=(e.trackTimeMillis%6e4/1e3).toFixed(0);return e.trackTimeMillis=t+":"+(a<10?"0":"")+a})),e.data.results.map((function(e){var t=e.releaseDate.substr(0,10),a=new Date(t),n=String(a).substr(4,12);return e.releaseDate=n})),n({type:"RESPONSE",responseData:e.data,description:t.data.results[0].description_original})}))}))}),[]);return{isLoading:a.loading,data:a.data,error:a.error,description:a.description,sendRequest:c,sendPodcastRequest:o}},v=a(5),y=a(298),w=a(299),N=a(300),S=a(89),C=Object(m.a)((function(){return{root:{width:220,height:300,borderRadius:12,padding:12,alignSelf:"flex-start"},media:{margin:0,borderRadius:6,width:200,height:200},cardContent:{padding:0}}})),k=function(e){var t=e.image,a=e.artistName,i=e.artist,r=C(),c=Object(S.useOverShadowStyles)({inactive:!0});return Object(n.jsxs)(y.a,{className:Object(v.default)(r.root,c.root),children:[Object(n.jsx)(w.a,{className:r.media,image:t}),Object(n.jsxs)(N.a,{className:r.cardContent,children:[Object(n.jsx)(b.a,{variant:"subtitle1",children:i}),Object(n.jsx)(b.a,{variant:"subtitle2",children:a})]})]})},R=a(301),P=a(22),T=Object(m.a)((function(e){var t;return{root:(t={width:"100%",gridRow:1,rowGap:"2rem",columnGap:"1rem",marginBottom:"1rem",marginTop:"2rem",display:"flex",flexWrap:"wrap"},Object(P.a)(t,"marginBottom","6rem"),Object(P.a)(t,"marginLeft","2rem"),Object(P.a)(t,"justifyContent","flex-start"),Object(P.a)(t,"alignItems","flex-start"),Object(P.a)(t,"alignContent","flex-start"),t)}})),E=function(e){var t=e.isLoading,a=e.podcasts,i=(e.title,T());return Object(n.jsxs)("div",{className:i.root,"data-test":"component-home",children:[t?Object(n.jsx)(R.a,{"data-test":"component-loading"}):null,a]})},L=function(e){var t=j(),a=x(),i=a.isLoading,c=(a.error,a.data),o=a.sendRequest;r.a.useEffect((function(){o("https://rss.itunes.apple.com/api/v1/us/podcasts/top-podcasts/all/uk/explicit.json")}),[]);var s=[];return c&&(s=c.feed.results.map((function(e){return Object(n.jsx)(d.b,{to:"/podcast/"+e.id,children:Object(n.jsx)(k,{image:e.artworkUrl100,artist:e.name,artistName:e.artistName,"data-test":"component-card"})})}))),Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(b.a,{variant:"h4",className:t.title,children:"Popular"}),Object(n.jsx)(E,{isLoading:i,podcasts:s}),";"]})},I=Object(m.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column"},title:{marginLeft:"2rem",marginTop:"5rem"}}})),B=function(e){var t=r.a.useState(null),a=Object(g.a)(t,2),c=a[0],o=a[1],s=I(),l=x(),u=l.isLoading,m=(l.error,l.data),j=l.sendRequest;Object(i.useEffect)((function(){var t=e.location.pathname.lastIndexOf("/"),a=e.location.pathname.substring(t+1);j("https://itunes.apple.com/search?term=podcast&genreId=".concat(a,"&limit=50"));var n=e.location.pathname.replace("/category/",""),i=n.lastIndexOf("/"),r=n.substring(0,i);o(r)}),[e.location.pathname]);var p=null;return m&&(console.log(c),p=m.results.map((function(e){return Object(n.jsx)(d.b,{to:"/podcast/"+e.collectionId,children:Object(n.jsx)(k,{image:e.artworkUrl600,artist:e.collectionName,artistName:e.artistName,"data-test":"component-card"})},e.id)}))),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(b.a,{variant:"h4",className:s.title,children:c}),Object(n.jsx)(E,{isLoading:u,podcasts:p})]})},D=a(111),M=Object(m.a)((function(e){return{root:{width:"100%",height:"70rem",gridRow:1,rowGap:"2rem",columnGap:"1rem",marginBottom:"8rem",marginTop:"1rem",display:"grid",gridTemplateRows:"23rem max-content 2rem",gridTemplateColums:"1fr"},pages:{margin:"auto",marginBottom:"6rem"}}})),F=a(303),G=a(307),A=a(306),z=a(302),_=a(304),W=a(305),U=a(91),q=a(308),H=a(93),V=a.n(H),J=a(131),K=Object(J.a)({root:{gridRow:2,width:"90%",margin:"auto"},table:{width:"100%",minWidth:300}}),X=r.a.createContext({audio:null,toggleAudio:function(){},autoPlay:!1}),Q=function(e){var t=r.a.useState(null),a=Object(g.a)(t,2),i=a[0],c=a[1],o=r.a.useState(!1),s=Object(g.a)(o,2),l=(s[0],s[1]);return Object(n.jsx)(X.Provider,{value:{audio:i,setAudio:function(e){c(e),l(!0)}},children:e.children})};function Y(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}Y("Frozen yoghurt",159,6),Y("Ice cream sandwich",237,9),Y("Eclair",262,16),Y("Cupcake",305,3.7),Y("Gingerbread",356,16);function Z(e){var t=e.podcasts,a=e.isLoading,i=K(),c=r.a.useContext(X).setAudio;return Object(n.jsxs)(z.a,{className:i.root,component:U.a,children:[a?Object(n.jsx)(R.a,{"data-test":"component-loading"}):null,Object(n.jsxs)(F.a,{className:i.table,"aria-label":"simple table",children:[Object(n.jsx)(_.a,{children:Object(n.jsxs)(W.a,{children:[Object(n.jsx)(A.a,{children:Object(n.jsx)(b.a,{variant:"h6",children:"Episode title"})}),Object(n.jsx)(A.a,{align:"right",children:Object(n.jsx)(b.a,{variant:"h6",children:"Released"})}),Object(n.jsx)(A.a,{align:"right",children:Object(n.jsx)(b.a,{variant:"h6",children:"Duration"})}),Object(n.jsx)(A.a,{align:"right"})]})}),Object(n.jsx)(G.a,{children:t?t.map((function(e){return Object(n.jsxs)(W.a,{children:[Object(n.jsx)(A.a,{component:"th",scope:"row",children:e.trackName}),Object(n.jsx)(A.a,{align:"right",children:e.releaseDate}),Object(n.jsx)(A.a,{align:"right",children:e.trackTimeMillis}),Object(n.jsx)(A.a,{align:"right",children:Object(n.jsx)(q.a,{onClick:function(){return t=e.episodeUrl,void c(t);var t},children:Object(n.jsx)(V.a,{fontSize:"large"})})})]},e.trackId)})):null})]})]})}a(220);var $=a(141),ee=a(142),te=Object(m.a)((function(e){return{root:{gridRow:1,width:"70%",display:"grid",gridTemplateRows:"100px",gridTemplateColumns:"250 1fr",padding:"5rem",margin:"auto",marginTop:0},media:{width:250,height:250,gridColumn:1},cardContent:{gridColumn:2,paddingTop:".1rem"},tag:{display:"flex",marginTop:"1rem",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}})),ae=a(321),ne=function(e){var t=e.podcast,a=e.description,i=te(),c=(Object($.useFourThreeCardMediaStyles)(),Object(ee.useN04TextInfoContentStyles)(),Object(S.useOverShadowStyles)({inactive:!0}),null);return console.log(t),t&&(c=Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(w.a,{className:i.media,image:t.artworkUrl600}),Object(n.jsxs)(N.a,{className:i.cardContent,children:[Object(n.jsx)(b.a,{variant:"h4",children:t.collectionName}),Object(n.jsx)(b.a,{variant:"h6",gutterBottom:!0,children:t.artistName}),Object(n.jsx)(b.a,{variant:"p",gutterBottom:!0,children:a}),Object(n.jsx)("div",{className:i.tag,children:t.genres.map((function(e){return Object(n.jsx)(ae.a,{label:e})}))})]})]})),Object(n.jsx)("div",{className:i.root,children:c})},ie=a(318),re=function(e){var t=r.a.useState(1),a=Object(g.a)(t,2),c=a[0],o=a[1],s=r.a.useState(10),l=Object(g.a)(s,2),d=l[0],u=(l[1],M()),m=x(),j=m.isLoading,p=(m.error,m.data),h=m.description,b=m.sendPodcastRequest;Object(i.useEffect)((function(){var t=e.location.pathname.replace("/podcast/","");e.location.search&&o(e.location.search.charAt(e.location.search.length-1)),b("https://itunes.apple.com/lookup?id=".concat(t,"&country=US&media=podcast&entity=podcastEpisode&limit=1000"))}),[]);var O,f=null,v=null;if(p){var y=c*d,w=y-d,N=Object(D.a)(p.results);N.shift(),O=N.slice(w,y),v=p.results.length}p&&(f=Object(D.a)(p.results).shift());for(var S=[],C=1;C<=Math.ceil(v/d);C++)S.push(C);return Object(n.jsxs)("div",{className:u.root,children:[Object(n.jsx)(ne,{podcast:f,description:h}),Object(n.jsx)(Z,{podcasts:O,isLoading:j}),Object(n.jsx)(ie.a,{className:u.pages,count:S.length,page:c,onChange:function(t,a){o(a),e.history.push(e.match.url+"?"+a)}})]})},ce=(Object(m.a)((function(e){return{root:{gridColumn:"2 / -1",gridRow:1,display:"flex",justifyContent:"center",width:"100%",border:" 5px solid red;"}}})),a(143),Object(m.a)((function(e){return{root:{gridRow:3,gridColumn:"2 / -1",border:" 5px solid red;",display:"flex",justifyContent:"center"}}})),Object(m.a)((function(e){return{root:{width:"85vw",display:"grid",gridTemplateRows:"1fr",gridTemplateColumns:"1fr",marginLeft:"14rem","& body":{background:"white",lineHeight:1.5,fontSize:"0.875rem",marginTop:"5rem"}}}}))),oe=a(144),se=a(145),le=a(161),de=a(160),ue=a(146),me=a(147),je=a.n(me),pe=function(e){Object(le.a)(a,e);var t=Object(de.a)(a);function a(){var e;Object(oe.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i)))._handlePlayPause=function(){e.props.media.playPause()},e}return Object(se.a)(a,[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.isPlaying!==t.isPlaying}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style,i=e.media;return Object(n.jsx)(q.a,{type:"button",className:t,style:a,onClick:this._handlePlayPause,children:i.isPlaying?Object(n.jsx)(je.a,{}):Object(n.jsx)(V.a,{})})}}]),a}(i.Component),he=(Object(ue.withMediaProps)(pe),a(159)),be=(a(253),Object(s.a)({}),Object(m.a)((function(e){return{root:{position:"fixed",bottom:0,width:"85vw"},mediaPlayer:{width:"100%",border:"none",outline:"none",zIndex:1},loading:{zIndex:100}}}))),ge=function(){var e=r.a.useState(!1),t=Object(g.a)(e,2),a=t[0],i=t[1],c=r.a.useState(!1),o=Object(g.a)(c,2),s=o[0],l=o[1],d=r.a.useContext(X).audio,u=be();return r.a.useEffect((function(){d&&(l(!0),i(!0))}),[d]),console.log(s),Object(n.jsxs)("div",{className:u.root,children:[s?Object(n.jsx)(R.a,{"data-test":"component-loading",className:u.loading}):null,Object(n.jsx)(he.a,{src:d,autoPlay:a,onCanPlay:function(){return l(!1)},className:u.mediaPlayer})]})},Oe=a(315),fe=a(314),xe=a(309),ve=a(317),ye=a(320),we=a(134),Ne=a(313),Se=a(310),Ce=a(311),ke=a(312),Re=a(158),Pe=a.n(Re),Te=a(316),Ee=a(10),Le=a(25),Ie=a(109),Be=a(105),De=a.n(Be),Me=a(319),Fe=a(23),Ge=Object(J.a)((function(e){return{root:{display:"flex"},drawer:Object(P.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(P.a)({},e.breakpoints.up("sm"),{marginLeft:240}),menuButton:Object(P.a)({flexGrow:1,marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240,zIndex:1,marginTop:"3rem"},content:{flexGrow:1,padding:e.spacing(3)},icon:{minWidth:"56px",flexShrink:0,display:"inline-flex",paddingRight:"1.5rem"},link:{color:"black"},title:Object(P.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(P.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ee.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ee.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(P.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));var Ae=function(e){var t=r.a.useState(""),a=Object(g.a)(t,2),i=a[0],c=a[1],o=e.window,s=Ge(),l=Object(Le.a)(),u=r.a.useState(!1),m=Object(g.a)(u,2),j=m[0],p=m[1],h=function(){p(!j)},O=[{name:"Arts",id:1301,icon:Fe.i},{name:"Business",id:1321,icon:Fe.a},{name:"Comedy",id:1303,icon:Fe.m},{name:"Education",id:1304,icon:Fe.k},{name:"History",id:1487,icon:Fe.f},{name:"Music",id:1310,icon:Fe.h},{name:"Religion & Spirituality",id:1314,icon:Fe.j},{name:"Science Fiction",id:1485,icon:Fe.c},{name:"Society & Culture",id:1324,icon:Fe.n},{name:"Sports",id:1545,icon:Fe.d},{name:"Technology",id:1318,icon:Fe.g},{name:"TV and Film",id:1309,icon:Fe.b},{name:"Video Games",id:1509,icon:Fe.e}],f=Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:s.toolbar}),Object(n.jsxs)(d.b,{className:s.link,to:"/",children:[Object(n.jsx)(xe.a,{}),Object(n.jsxs)(Se.a,{button:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Ie.a,{icon:Fe.l,color:"grey",size:"lg"})}),Object(n.jsx)(ke.a,{primary:"Popular"})]}),Object(n.jsx)(xe.a,{})]}),Object(n.jsx)(Ne.a,{children:O.map((function(e,t){return Object(n.jsx)(d.b,{className:s.link,to:"/category/"+e.name+"/"+e.id,children:Object(n.jsxs)(Se.a,{button:!0,children:[Object(n.jsx)(Ce.a,{children:Object(n.jsx)(Ie.a,{icon:e.icon,color:"grey",size:"lg"})}),Object(n.jsx)(ke.a,{primary:e.name})]},e.name)})}))}),Object(n.jsx)(xe.a,{})]}),x=void 0!==o?function(){return o().document.body}:void 0;return Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(fe.a,{}),Object(n.jsx)(Oe.a,{position:"fixed",className:s.appBar,children:Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(we.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:h,className:s.menuButton,children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(b.a,{variant:"h6",noWrap:!0,className:s.title,children:"Podcast App"}),Object(n.jsxs)("div",{className:s.search,children:[Object(n.jsx)("div",{className:s.searchIcon,children:Object(n.jsx)(De.a,{})}),Object(n.jsx)("form",{onSubmit:function(t){return console.log(i),void e.history.push({pathname:"/search/"+i})},children:Object(n.jsx)(Me.a,{placeholder:"Search\u2026",classes:{root:s.inputRoot,input:s.inputInput},inputProps:{"aria-label":"search"},value:i,onChange:function(e){return c(e.target.value)}})})]})]})}),Object(n.jsxs)("nav",{className:s.drawer,"aria-label":"mailbox folders",children:[Object(n.jsx)(ye.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(ve.a,{container:x,variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:j,onClose:h,classes:{paper:s.drawerPaper},ModalProps:{keepMounted:!0},children:f})}),Object(n.jsx)(ye.a,{xsDown:!0,implementation:"css",children:Object(n.jsx)(ve.a,{classes:{paper:s.drawerPaper},variant:"permanent",open:!0,children:f})})]})]})},ze=Object(u.f)((function(e){var t=r.a.useState(),a=Object(g.a)(t,2),i=(a[0],a[1],ce());return Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(Ae,Object(O.a)({},e)),e.children,Object(n.jsx)(ge,{})]})})),_e=Object(m.a)((function(e){return{root:{width:"100%",gridRow:1,rowGap:"2rem",columnGap:"1rem",marginBottom:"7rem",marginTop:"5rem"}}})),We=Object(m.a)((function(e){return{root:{width:"100%",gridRow:2,rowGap:"2rem",columnGap:"1rem",marginBottom:"1rem",marginTop:"1rem",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start"}}})),Ue=function(e){var t=e.podcasts,a=e.isLoading,i=(e.title,We());return Object(n.jsxs)("div",{className:i.root,"data-test":"component-home",children:[a?Object(n.jsx)(R.a,{"data-test":"component-loading"}):null,t]})},qe=Object(u.f)((function(e){var t=r.a.useState(1),a=Object(g.a)(t,2),c=a[0],o=a[1],s=r.a.useState(25),l=Object(g.a)(s,2),u=l[0],m=(l[1],_e()),j=x(),p=j.isLoading,h=(j.error,j.data),b=j.sendRequest;j.page;Object(i.useEffect)((function(){var t=e.location.pathname.replace("/search/","");e.location.search&&o(e.location.search.charAt(e.location.search.length-1)),h||b("https://itunes.apple.com/search?term=".concat(t,"&media=podcast&limit=1000"))}),[e.location.pathname]);var O=null,f=null;if(h){var v=c*u,y=v-u,w=h.results.slice(y,v);f=h.results.length,O=w.map((function(e){return Object(n.jsx)(d.b,{to:"/podcast/"+e.collectionId,children:Object(n.jsx)(k,{image:e.artworkUrl600,artist:e.collectionName,artistName:e.artistName,"data-test":"component-card"})})}))}for(var N=[],S=1;S<=Math.ceil(f/u);S++)N.push(S);return Object(n.jsxs)("div",{className:m.root,children:[Object(n.jsx)(Ue,{isLoading:p,podcasts:O}),Object(n.jsx)(ie.a,{count:N.length,page:c,onChange:function(t,a){o(a),e.history.push(e.match.url+"?"+a)}})]})})),He=[{name:"Arts",id:1301,icon:"faPalette"},{name:"Business",id:1321},{name:"Comedy",id:1303},{name:"Education",id:1304},{name:"History",id:1487},{name:"Music",id:1310},{name:"Religion & Spirituality",id:1314},{name:"Science Fiction",id:1485},{name:"Society & Culture",id:1324},{name:"Sports",id:1545},{name:"Technology",id:1318},{name:"TV and Film",id:1309},{name:"Video Games",id:1509}],Ve=a(297);var Je=function(){return Object(n.jsx)(d.a,{basename:"/PodcastApp",children:Object(n.jsx)(Ve.a,{theme:l,children:Object(n.jsx)(ze,{"data-test":"layout",children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/home",exact:!0,component:L}),Object(n.jsx)(u.a,{path:"/",exact:!0,component:L}),He.map((function(e){if("Home"!==e.name)return Object(n.jsx)(u.a,{path:"/category/"+e.name+"/"+e.id,exact:!0,component:B},e.id)})),Object(n.jsx)(u.a,{path:"/podcast/:id",exact:!0,component:re}),Object(n.jsx)(u.a,{path:"/search/:id",component:qe}),Object(n.jsx)(u.a,{render:function(){return Object(n.jsx)("h1",{children:"Not Found"})}})]})})})})},Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,322)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))};a(256),a(257);o.a.render(Object(n.jsx)(Q,{children:Object(n.jsx)(Je,{})}),document.getElementById("root")),Ke()}},[[258,1,2]]]);
//# sourceMappingURL=main.a313578f.chunk.js.map